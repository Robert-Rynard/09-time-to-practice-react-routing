(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[4],{32:function(e,t,n){e.exports={item:"CommentItem_item__3KGds"}},33:function(e,t,n){e.exports={comments:"CommentsList_comments__2IhFD"}},34:function(e,t,n){e.exports={form:"NewCommentForm_form__33yhZ",loading:"NewCommentForm_loading__16k64",control:"NewCommentForm_control__Ahptb",actions:"NewCommentForm_actions__1HdBR"}},35:function(e,t,n){e.exports={comments:"Comments_comments__3RaZq"}},38:function(e,t,n){"use strict";n.r(t);var c=n(5),s=n(0),o=n(32),m=n.n(o),a=n(1),r=function(e){return Object(a.jsx)("li",{className:m.a.item,children:Object(a.jsx)("p",{children:e.text})})},i=n(33),d=n.n(i),j=function(e){return Object(a.jsx)("ul",{className:d.a.comments,children:e.comments.map((function(e){return Object(a.jsx)(r,{text:e.text},e.id)}))})},l=n(9),u=n(20),b=n(34),x=n.n(b),O=n(21),f=function(e){var t=e.onAddedComment,n=e.quoteId,c=Object(s.useRef)(),o=Object(O.a)(u.a),m=o.sendRequest,r=o.status,i=o.error,d=function(e){e.preventDefault();var t=c.current.value;m({quoteId:n,commentData:{text:t}})};return Object(s.useEffect)((function(){"completed"!==r||i||t()}),[r,i,t]),Object(a.jsxs)("form",{className:x.a.form,onSubmit:d,children:["pending"===r&&Object(a.jsx)("div",{className:"centered",children:Object(a.jsx)(l.a,{})}),Object(a.jsxs)("div",{className:x.a.control,onSubmit:d,children:[Object(a.jsx)("label",{htmlFor:"comment",children:"Your Comment"}),Object(a.jsx)("textarea",{id:"comment",rows:"5",ref:c})]}),Object(a.jsx)("div",{className:x.a.actions,children:Object(a.jsx)("button",{className:"btn",children:"Add Comment"})})]})},h=n(35),p=n.n(h),_=n(2);t.default=function(){var e=Object(_.i)().quoteId,t=Object(O.a)(u.c),n=t.sendRequest,o=t.data,m=t.status,r=Object(s.useState)(!1),i=Object(c.a)(r,2),d=i[0],b=i[1];Object(s.useEffect)((function(){n(e)}),[n,e]);var x,h=Object(s.useCallback)((function(){n(e),b(!1)}),[n,e]);return"pending"===m&&(x=Object(a.jsx)("div",{className:"centered",children:Object(a.jsx)(l.a,{})})),"completed"===m&&o.length>0&&(x=Object(a.jsx)(j,{comments:o})),"completed"===m&&0===o.length&&(x=Object(a.jsx)("p",{className:"centered",children:"No comments have been added"})),Object(a.jsxs)("section",{className:p.a.comments,children:[Object(a.jsx)("h2",{children:"User Comments"}),!d&&Object(a.jsx)("button",{className:"btn",onClick:function(){b(!0)},children:"Add a Comment"}),d&&Object(a.jsx)(f,{quoteId:e,onAddedComment:h}),x]})}}}]);
//# sourceMappingURL=4.f094b4da.chunk.js.map